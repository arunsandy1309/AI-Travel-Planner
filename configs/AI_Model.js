const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = 'AIzaSyDc-PNVojzMypNKDVcAheKqvsiViHtfxD8' //process.env.EXPO_GOOGEL_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 2,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for Location: From Bufflo, NY to New York USA, for 3 Day and 2 Night for Family with a Luxury budget with Flight Details, Flight Prices with Booking URL, Multiple Hotel Options list with Hotel Name, Hotel Address, Price, Hotel Image URL, Geographic Cooridinates, Hotel Rating, ratings, description and Places to visit nearby the stay with Plane Names, Place Details, Place Image URL, Place Geographic Coordinates, Ticket Pricing, TIme to Travel each of the location in 1 day and 1 night with each day plan with best time to visit in JSON Format only. DO NOT LEAVE ANY DETAILS AS EXAMPLES, GIVE SOME VALUE AND DO NOT USE THE WORD EXAMPLE ANYWHERE."},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"tripName\": \"Luxury Family Getaway to New York City\",\n  \"destination\": \"New York, NY, USA\",\n  \"origin\": \"Buffalo, NY, USA\",\n  \"duration\": \"3 Days, 2 Nights\",\n  \"budget\": \"Luxury\",\n  \"travelDates\": \"2024-04-26 to 2024-04-28\", \n  \"flights\": [\n    {\n      \"airline\": \"Delta\",\n      \"flightNumber\": \"DL4567\",\n      \"departureAirport\": \"BUF\",\n      \"arrivalAirport\": \"JFK\",\n      \"departureTime\": \"2024-04-26T08:00\",\n      \"arrivalTime\": \"2024-04-26T09:30\",\n      \"price\": \"$350\",\n      \"bookingUrl\": \"https://www.delta.com/flight-search/search?tripType=ROUND_TRIP&originCode=BUF&destinationCode=JFK&departureDate=2024-04-26&returnDate=2024-04-28\",\n      \"planeName\": \"Airbus A320\"\n    },\n    {\n      \"airline\": \"Delta\",\n      \"flightNumber\": \"DL1234\",\n      \"departureAirport\": \"JFK\",\n      \"arrivalAirport\": \"BUF\",\n      \"departureTime\": \"2024-04-28T17:00\",\n      \"arrivalTime\": \"2024-04-28T18:30\",\n      \"price\": \"$350\",\n      \"bookingUrl\": \"https://www.delta.com/flight-search/search?tripType=ROUND_TRIP&originCode=BUF&destinationCode=JFK&departureDate=2024-04-26&returnDate=2024-04-28\",\n      \"planeName\": \"Airbus A320\"\n\n\n    }\n  ],\n  \"hotels\": [\n    {\n      \"name\": \"The Peninsula New York\",\n      \"address\": \"700 5th Ave, New York, NY 10019\",\n      \"price\": \"$800/night\", \n      \"imageUrl\": \"https://www.peninsula.com/content/dam/peninsula/images/hotels/nyc/overview/rooms-suites/the-peninsula-new-york-superior-suite-living-room-16-9.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg\",\n      \"coordinates\": {\n        \"latitude\": 40.7678,\n        \"longitude\": -73.9723\n      },\n      \"rating\": 5,\n      \"description\": \"Luxurious hotel with rooftop pool and spa.\",\n      \"nearbyPlaces\": [\n        {\n          \"name\": \"Central Park\",\n          \"details\": \"Urban park with zoo, carousel, and walking paths.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Central_Park_Lake_and_Bow_Bridge.jpg/1280px-Central_Park_Lake_and_Bow_Bridge.jpg\",\n          \"coordinates\": {\n            \"latitude\": 40.7829,\n            \"longitude\": -73.9654\n          },\n          \"ticketPrice\": \"Free\",\n          \"timeToTravel\": \"15 minutes by taxi\"\n        },\n        {\n          \"name\": \"Museum of Modern Art (MoMA)\",\n          \"details\": \"World-renowned museum with modern and contemporary art.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/MoMA_Exterior.jpg/800px-MoMA_Exterior.jpg\",\n          \"coordinates\": {\n            \"latitude\": 40.7614,\n            \"longitude\": -73.9776\n          },\n          \"ticketPrice\": \"$25\",\n          \"timeToTravel\": \"10 minutes by taxi\"\n        }\n      ]\n    },\n    {\n      \"name\": \"The Ritz-Carlton New York, Central Park\",\n      \"address\": \"50 Central Park S, New York, NY 10019\",\n      \"price\": \"$900/night\",\n      \"imageUrl\": \"https://www.ritzcarlton.com/content/dam/ritzcarlton/hotels/new-york/central-park/meetings-events/ritz-carlton-new-york-central-park-grand-ballroom-5-8.jpg/jcr:content/renditions/cq5dam.web.1280.1280.jpeg\",\n      \"coordinates\": {\n        \"latitude\": 40.7644,\n        \"longitude\": -73.9733\n      },\n      \"rating\": 4.8,\n      \"description\": \"Elegant hotel with Central Park views and fine dining.\",\n      \"nearbyPlaces\": [\n        {\n          \"name\": \"Carnegie Hall\",\n          \"details\": \"Historic concert venue.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Carnegie_Hall_%2819264168379%29.jpg/1280px-Carnegie_Hall_%2819264168379%29.jpg\",\n          \"coordinates\": {\n            \"latitude\": 40.7654,\n            \"longitude\": -73.9799\n          },\n          \"ticketPrice\": \"Varies by event\",\n          \"timeToTravel\": \"5 minutes by taxi\"\n        },\n        {\n          \"name\": \"Times Square\",\n          \"details\": \"Bustling entertainment hub.\",\n          \"imageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Times_Square_Manhattan_New_York_City_USA.jpg/1280px-Times_Square_Manhattan_New_York_City_USA.jpg\",\n          \"coordinates\": {\n            \"latitude\": 40.7580,\n            \"longitude\": -73.9855\n          },\n          \"ticketPrice\": \"Free\",\n          \"timeToTravel\": \"15 minutes by taxi\"\n        }\n      ]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": \"Arrive at JFK, check into hotel. Explore Central Park, enjoy lunch at The Loeb Boathouse Central Park.\",\n      \"afternoon\": \"Visit the Metropolitan Museum of Art, enjoy afternoon tea at The Mark Hotel.\",\n      \"evening\": \"Dinner at Per Se, a Michelin-starred restaurant.\",\n      \"bestTime\": \"09:00 - 21:00\"\n    },\n    \"day2\": {\n      \"morning\": \"Visit the Statue of Liberty and Ellis Island. Explore the Financial District and Wall Street.\",\n      \"afternoon\": \"Shopping on Fifth Avenue. Visit the Rockefeller Center and Top of the Rock Observation Deck.\",\n      \"evening\": \"Broadway show followed by dinner at Joe Allen.\",\n       \"bestTime\": \"09:00 - 21:00\"\n    },\n    \"day3\": {\n      \"morning\": \"Visit the 9/11 Memorial & Museum. Explore the One World Observatory.\",\n      \"afternoon\": \"Shopping in SoHo.  Enjoy a final lunch in Little Italy.\",\n      \"evening\": \"Depart from JFK.\",\n       \"bestTime\": \"09:00 - 17:00\"\n\n    }\n  }\n}\n```"},
            ],
          },
          {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for Location: From Bufflo, NY to San Diego, California USA, for 3 Day and 2 Night for Family with a Luxury budget with Flight Details, Flight Prices with Booking URL, Multiple Hotel Options list with Hotel Name, Hotel Address, Price, Hotel Image URL, Geographic Cooridinates, Hotel Rating, ratings, description and Places to visit nearby the stay with Plane Names, Place Details, Place Image URL, Place Geographic Coordinates, Ticket Pricing, TIme to Travel each of the location in 1 day and 1 night with each day plan with best time to visit in JSON Format only. DO NOT LEAVE ANY DETAILS AS EXAMPLES, GIVE SOME VALUE AND DO NOT USE THE WORD EXAMPLE ANYWHERE."},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"trip_name\": \"Luxury San Diego Family Getaway\",\n  \"destination\": \"San Diego, California, USA\",\n  \"duration\": \"3 Days, 2 Nights\",\n  \"budget\": \"Luxury\",\n  \"departure_city\": \"Buffalo, NY\",\n  \"travel_dates\": \"2024-03-15 to 2024-03-17\", \n\n  \"flights\": {\n    \"outbound\": {\n      \"airline\": \"JetBlue\",\n      \"flight_number\": \"B6 286\",\n      \"departure_airport\": \"BUF\",\n      \"arrival_airport\": \"SAN\",\n      \"departure_time\": \"2024-03-15T06:00\",\n      \"arrival_time\": \"2024-03-15T09:00\",\n      \"price_per_person\": 650,\n      \"booking_url\": \"https://www.jetblue.com/ (Example URL - Replace with actual booking link)\",\n      \"plane_name\": \"Airbus A321\"\n    },\n    \"return\": {\n      \"airline\": \"JetBlue\",\n      \"flight_number\": \"B6 787\",\n      \"departure_airport\": \"SAN\",\n      \"arrival_airport\": \"BUF\",\n      \"departure_time\": \"2024-03-17T18:00\",\n      \"arrival_time\": \"2024-03-17T23:59\",\n      \"price_per_person\": 700,\n      \"booking_url\": \"https://www.jetblue.com/ (Example URL - Replace with actual booking link)\",\n      \"plane_name\": \"Airbus A320\"\n    }\n  },\n\n  \"hotels\": [\n    {\n      \"name\": \"Hotel del Coronado\",\n      \"address\": \"1500 Orange Ave, Coronado, CA 92118\",\n      \"price_per_night\": 800,\n      \"image_url\": \"https://www.hoteldel.com/ (Replace with actual Image URL)\",\n      \"coordinates\": {\n        \"latitude\": 32.6875,\n        \"longitude\": -117.1778\n      },\n      \"rating\": 4.5,\n      \"description\": \"Historic beachfront luxury hotel.\",\n      \"nearby_places\": [\n       {\n          \"name\": \"Coronado Beach\",\n          \"details\": \"Beautiful sandy beach perfect for swimming, sunbathing, and surfing.\",\n          \"image_url\": \"https://www.coronadovisitorcenter.com/things-to-do/beaches/coronado-beach/ (Replace with actual image URL)\",\n          \"coordinates\": {\n            \"latitude\": 32.6894,\n            \"longitude\": -117.1844\n          },\n          \"ticket_price\": \"Free\",\n          \"time_to_travel\": \"5 minutes walk\" \n        }\n      ]\n    },\n    {\n      \"name\": \"The Lodge at Torrey Pines\",\n      \"address\": \"11480 N Torrey Pines Rd, La Jolla, CA 92037\",\n      \"price_per_night\": 750,\n      \"image_url\": \"https://www.lodgetorreypines.com/ (Replace with actual Image URL)\",\n      \"coordinates\": {\n        \"latitude\": 32.9222,\n        \"longitude\": -117.2528\n      },\n      \"rating\": 4.7,\n      \"description\": \"Luxury resort with golf course and spa.\",\n      \"nearby_places\": [\n       {\n          \"name\": \"Torrey Pines State Natural Reserve\",\n          \"details\": \"Scenic hiking trails with ocean views.\",\n          \"image_url\": \"https://www.torreypine.org/ (Replace with actual image URL)\",\n          \"coordinates\": {\n            \"latitude\": 32.9219,\n            \"longitude\": -117.2555\n          },\n          \"ticket_price\": \"$15 per vehicle\", \n          \"time_to_travel\": \"5 minutes drive\" \n        }\n      ]\n    }\n  ],\n\n\n  \"itinerary\": {\n    \"day_1\": {\n      \"morning\": \"Arrive at San Diego International Airport (SAN). Transfer to Hotel del Coronado. Check in and relax by the pool.\",\n      \"afternoon\": \"Explore Coronado Beach. Enjoy lunch at a beachfront restaurant.\",\n      \"evening\": \"Dinner at 1500 OCEAN at the Hotel del Coronado.\",\n      \"best_time_to_visit\": \"Afternoon for beach activities, evening for sunset views.\"\n    },\n    \"day_2\": {\n      \"morning\": \"Visit Balboa Park and explore the San Diego Zoo.\",\n      \"afternoon\": \"Lunch at The Prado at Balboa Park. Explore the museums in Balboa Park (e.g., Natural History Museum).\",\n      \"evening\": \"Dinner at a restaurant in the Gaslamp Quarter.\",\n      \"best_time_to_visit\": \"Morning for the zoo to avoid crowds, afternoon for museums.\"\n      \n    },\n    \"day_3\": {\n      \"morning\": \"Check out of the hotel. Visit La Jolla Cove and see the seals.\",\n      \"afternoon\": \"Lunch at George's at the Cove. Explore the shops and galleries in La Jolla.\",\n      \"evening\": \"Depart from San Diego International Airport (SAN).\",\n      \"best_time_to_visit\": \"Morning for La Jolla Cove, afternoon for shopping and exploring La Jolla.\"\n    }\n  }\n}\n```"},
            ],
          },
       ],
    });
  

    export const recommendationSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Given the user's previous trip history in the variable [\"Paris\", \"France\", \"Norway\", \"Gemany\", \"Swiserland\", \"Greenland\", \"IceLand\", \"India\"], generate a JSON object with at least 10 unique travel recommendations. Ensure the recommendations are based on the user's prior destinations, interests, or travel patterns inferred from {trips}. Each recommendation must be a country or state not already visited by the user. For each recommended location, include:\n\n1. The name of the country or state.\n2. A brief description about the unique aspects of the place."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"recommendations\": [\n    {\n      \"location\": \"Italy\",\n      \"description\": \"Experience the rich history, art, and culture of Italy, from the ancient ruins of Rome to the stunning canals of Venice. Enjoy delicious cuisine and breathtaking landscapes.\"\n    },\n    {\n      \"location\": \"Spain\",\n      \"description\": \"Explore vibrant cities like Barcelona and Madrid, discover ancient Moorish architecture, and relax on beautiful Mediterranean beaches. Indulge in tapas and flamenco.\"\n    },\n    {\n      \"location\": \"Austria\",\n      \"description\": \"Immerse yourself in the classical music heritage of Vienna, explore majestic palaces like Sch√∂nbrunn, and enjoy the stunning scenery of the Alps.\"\n    },\n    {\n      \"location\": \"Portugal\",\n      \"description\": \"Discover charming towns along the coast, explore historic castles and monasteries, and savor the delicious flavors of Portuguese cuisine and wine.\"\n    },\n    {\n      \"location\": \"Greece\",\n      \"description\": \"Explore ancient ruins, stunning islands, and beautiful beaches. Experience the rich history and culture of this Mediterranean gem.\"\n    },\n    {\n      \"location\": \"Scotland\",\n      \"description\": \"Journey through dramatic landscapes, visit ancient castles and lochs, and experience the vibrant culture of Scotland's cities.\"\n    },\n    {\n      \"location\": \"Netherlands\",\n      \"description\": \"Cycle through picturesque canals, visit charming windmills, and explore world-class museums in Amsterdam. Experience the unique Dutch culture.\"\n    },\n    {\n      \"location\": \"Czech Republic\",\n      \"description\": \"Discover fairytale castles, stunning architecture, and a vibrant beer culture in Prague and beyond. Enjoy delicious traditional cuisine.\"\n    },\n    {\n      \"location\": \"Switzerland\",\n      \"description\": \"Explore the Swiss Alps, famous for its stunning mountain ranges, scenic lakes, and charming villages. Enjoy winter sports and outdoor activities.\"\n    },\n    {\n      \"location\": \"Denmark\",\n      \"description\": \"Explore the vibrant city of Copenhagen, visit fairytale castles, and discover charming coastal towns. Experience the Danish design and culture.\"\n    },\n    {\n      \"location\": \"Sweden\",\n      \"description\": \"Explore vibrant cities like Stockholm and Gothenburg, discover stunning archipelago landscapes, and experience the unique Swedish culture and design.\"\n    }\n  ]\n}\n```\n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "Given the user's previous trip history in the variable [\"Africa\", \"Alaska\", \"Brazil\", \"Italy\"], generate a JSON object with at least 10 unique travel recommendations. Ensure the recommendations are based on the user's prior destinations, interests, or travel patterns inferred from {trips}. Each recommendation must be a country or state not already visited by the user. For each recommended location, include:\n\n1. The name of the country or state.\n2. A brief description about the unique aspects of the place."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"recommendations\": [\n    {\n      \"location\": \"Argentina\",\n      \"description\": \"Explore the stunning Patagonian landscapes, experience vibrant tango culture in Buenos Aires, and marvel at Iguazu Falls, one of the world's largest waterfalls.  Offers a similar adventurous spirit to Alaska and Brazil.\"\n    },\n    {\n      \"location\": \"Peru\",\n      \"description\": \"Discover the ancient Incan civilization in Machu Picchu, explore the Amazon rainforest, and experience the vibrant culture of Cusco.  Shares the historical and cultural richness of Italy.\"\n    },\n    {\n      \"location\": \"Tanzania\",\n      \"description\": \"Witness the incredible wildlife on a safari in the Serengeti National Park and climb Mount Kilimanjaro, Africa's highest peak.  Builds upon your African travel experience.\"\n    },\n    {\n      \"location\": \"Costa Rica\",\n      \"description\": \"Explore lush rainforests teeming with biodiversity, relax on pristine beaches, and experience incredible wildlife encounters. Offers a similar nature-focused experience to Alaska and Brazil.\"\n    },\n    {\n      \"location\": \"New Zealand\",\n      \"description\": \"Discover dramatic landscapes, from towering mountains and glaciers to stunning fjords and beaches. Offers adventurous activities similar to Alaska.\"\n    },\n    {\n      \"location\": \"Japan\",\n      \"description\": \"Experience a unique blend of ancient traditions and modern technology, from serene temples and gardens to bustling cities.  Offers a culturally rich experience similar to Italy.\"\n    },\n    {\n      \"location\": \"Portugal\",\n      \"description\": \"Explore historic cities like Lisbon and Porto, enjoy stunning beaches along the Algarve coast, and savor delicious cuisine and wine. Builds upon your European travel experience in Italy.\"\n    },\n    {\n      \"location\": \"Chile\",\n      \"description\": \"Discover diverse landscapes, from the Atacama Desert to Patagonia, experience vibrant culture in Santiago, and enjoy incredible stargazing opportunities. Shares similarities with Argentina in terms of landscape and adventure.\"\n    },\n    {\n      \"location\": \"Greece\",\n      \"description\": \"Explore ancient ruins, stunning islands, and beautiful beaches. Offers a similar historical and cultural experience to Italy, with a different Mediterranean flavor.\"\n    },\n    {\n      \"location\": \"Canada (British Columbia)\",\n      \"description\": \"Experience the natural beauty of the Pacific Northwest, from majestic mountains and rainforests to stunning coastlines and charming cities. Shares similarities with Alaska in terms of natural beauty and adventurous activities.\"\n    }\n  ]\n}\n```\n"},
          ],
        },
      ],
    });


